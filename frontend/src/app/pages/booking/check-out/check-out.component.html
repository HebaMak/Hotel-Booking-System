<div id="preloader">
  <div class="loader"></div>
</div>

<div class="font-[sans-serif] bg-white mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-5 mb-5">
  <div class="max-lg:max-w-xl mx-auto w-full">
    <div class="grid lg:grid-cols-3 gap-6">
      <div class="lg:col-span-2 max-lg:order-1 p-6 !pr-0 max-w-4xl mx-auto w-full">
        <div class="text-center max-lg:hidden">
          <h2 class="text-3xl font-extrabold text-gray-800 inline-block border-b-2 border-gray-800 pb-1">Checkout</h2>
        </div>

        <form class="lg:mt-16 " [formGroup]="contactForm" (ngSubmit)="onSubmit()">
          <div>
            <h2 class="text-xl font-bold text-gray-800">Shipping info</h2>

            <div class="grid sm:grid-cols-2 gap-8 mt-8">
              <!-- Name -->
              <div>
                <input formControlName="name" type="text" placeholder="Name"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none"
                />
                <div *ngIf="name?.touched && name?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="name?.hasError('required')">Name is required.</div>
                  <div *ngIf="name?.hasError('minlength')">Name must be at least 3 characters long.</div>
                </div>
              </div>

              <!-- Email -->
              <div>
                <input formControlName="email" type="email" placeholder="Email address"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none"
                />
                <div *ngIf="email?.touched && email?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="email?.hasError('required')">Email is required.</div>
                  <div *ngIf="email?.hasError('email')">Please enter a valid email address.</div>
                </div>
              </div>

              <!-- Street Address -->
              <div>
                <input formControlName="streetAddress" type="text" placeholder="Street address"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none"
                />
                <div *ngIf="streetAddress?.touched && streetAddress?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="streetAddress?.hasError('required')">Street address is required.</div>
                </div>
              </div>

              <!-- City -->
              <div>
                <input formControlName="city" type="text" placeholder="City"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none"
                />
                <div *ngIf="city?.touched && city?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="city?.hasError('required')">City is required.</div>
                </div>
              </div>

              <!-- State -->
              <div>
                <input formControlName="state" type="text" placeholder="State"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none"
                />
                <div *ngIf="state?.touched && state?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="state?.hasError('required')">State is required.</div>
                </div>
              </div>

              <!-- Postal Code -->
              <div>
                <input formControlName="postalCode" type="number" placeholder="Postal code"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none"
                />
                <div *ngIf="postalCode?.touched && postalCode?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="postalCode?.hasError('required')">Postal code is required.</div>
                  <div *ngIf="postalCode?.hasError('pattern')">Postal code must be a 5-digit number.</div>
                </div>
              </div>
            </div>
          </div>

          <div class="mt-16">
            <h2 class="text-xl font-bold text-gray-800">Payment method</h2>

            <div class="grid gap-4 sm:grid-cols-2 mt-4">
              <div class="flex items-center">
                <input type="radio" class="w-5 h-5 cursor-pointer" id="card" checked />
                <label for="card" class="ml-4 flex gap-2 cursor-pointer">
                  <img src="https://readymadeui.com/images/visa.webp" class="w-12" alt="card1" />
                  <img src="https://readymadeui.com/images/american-express.webp" class="w-12" alt="card2" />
                  <img src="https://readymadeui.com/images/master.webp" class="w-12" alt="card3" />
                </label>
              </div>

              <div class="flex items-center">
                <input type="radio" class="w-5 h-5 cursor-pointer" id="paypal" />
                <label for="paypal" class="ml-4 flex gap-2 cursor-pointer">
                  <img src="https://readymadeui.com/images/paypal.webp" class="w-20" alt="paypalCard" />
                </label>
              </div>
            </div>

            <div class="grid gap-8 mt-8">
              <div>
                <input type="text" placeholder="Cardholder's Name" formControlName="cardholderName"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none" />
                <div *ngIf="cardholderName?.touched && cardholderName?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="cardholderName?.hasError('required')">Cardholder's Name is required.</div>
                  <div *ngIf="cardholderName?.hasError('minlength')">Cardholder's Name must be at least 3 characters long.</div>
                </div>
              </div>
            
              <!-- Card Number -->
              <div class="flex bg-white border-b focus-within:border-blue-600 overflow-hidden">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-12 ml-3" viewBox="0 0 291.764 291.764">
                  <!-- SVG paths go here -->
                </svg>
                <input type="number" placeholder="Card Number" formControlName="cardNumber"
                  class="px-2 pb-2 bg-white text-gray-800 w-full text-sm outline-none" />
                <div *ngIf="cardNumber?.touched && cardNumber?.invalid" class="text-red-500 text-sm">
                  <div *ngIf="cardNumber?.hasError('required')">Card Number is required.</div>
                  <div *ngIf="cardNumber?.hasError('pattern')">Card Number must be a valid number.</div>
                </div>
              </div>
            
              <!-- EXP -->
              <div class="grid grid-cols-2 gap-6">
                <div>
                  <input type="number" placeholder="EXP." formControlName="exp"
                    class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none" />
                  <div *ngIf="exp?.touched && exp?.invalid" class="text-red-500 text-sm">
                    <div *ngIf="exp?.hasError('required')">Expiration date is required.</div>
                    <div *ngIf="exp?.hasError('pattern')">Expiration date must be in MM/YY format.</div>
                  </div>
                </div>
                <!-- CVV -->
                <div>
                  <input type="number" placeholder="CVV" formControlName="cvv"
                    class="px-2 pb-2 bg-white text-gray-800 w-full text-sm border-b focus:border-blue-600 outline-none" />
                  <div *ngIf="cvv?.touched && cvv?.invalid" class="text-red-500 text-sm">
                    <div *ngIf="cvv?.hasError('required')">CVV is required.</div>
                    <div *ngIf="cvv?.hasError('pattern')">CVV must be 3 digits long.</div>
                  </div>
                </div>
              </div>

              <div class="flex items-center">
                <input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 shrink-0 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                <label for="remember-me" class="ml-3 block text-sm">
                  I accept the <a href="javascript:void(0);" class="text-[#dfa989] font-semibold hover:underline ml-1">Terms and Conditions</a>
                </label>
              </div>
            </div>
          </div>

          <div class="flex flex-wrap gap-4 mt-8">
            <button  routerLink="/booking/cart" type="button" class="min-w-[150px] px-6 py-3.5 text-sm bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">Back</button>
            <button type="submit" [disabled]="contactForm.invalid"  class="min-w-[150px] px-6 py-3.5 text-sm bg-[#dfa974] hover:bg-[#dfa989]  text-white rounded-lg ">Confirm payment $240</button>
          </div>
        </form>
      </div>

      <div class="bg-gray-100 lg:h-screen lg:sticky lg:top-0">
        <div class="relative h-full">
          <div class="p-6 overflow-auto max-lg:max-h-[400px] lg:h-[calc(100vh-60px)] max-lg:mb-8">
            <h2 class="text-xl font-bold text-gray-800">Reservation Summary</h2>

            <div class="space-y-8 mt-8">

              <div class="flex flex-col gap-4" *ngFor="let item of checkoutItems">
                <div class="max-w-[140px]  shrink-0 bg-gray-200 ">
                  <img src={{item.imageURL}} class="w-full object-contain rounded-3"  />
                </div>

                <div class="w-full">
                  <h3 class="text-base text-gray-800 font-bold">{{item.roomName}}</h3>
                  <ul class="text-sm text-gray-800 space-y-2 mt-2">
                    <li class="flex flex-wrap gap-4">Size <span class="ml-auto">{{item.size}} ft</span></li>
                    <li class="flex flex-wrap gap-4">Total Price <span class="ml-auto">{{item.price|currency}}</span></li>
                  </ul>
                </div>
              </div>

              <!-- <div class="flex flex-col gap-4">
                <div class="max-w-[140px] p-4 shrink-0 bg-gray-200 rounded-lg">
                  <img src='https://readymadeui.com/images/product11.webp' class="w-full object-contain" />
                </div>

                <div class="w-full">
                  <h3 class="text-base text-gray-800 font-bold">VelvetGlide Boots</h3>
                  <ul class="text-sm text-gray-800 space-y-2 mt-2">
                    <li>Size <span class="float-right">37</span></li>
                    <li>Quantity <span class="float-right">2</span></li>
                    <li>Total Price <span class="float-right">$40</span></li>
                  </ul>
                </div>
              </div>

              <div class="flex flex-col gap-4">
                <div class="max-w-[140px] p-4 shrink-0 bg-gray-200 rounded-lg">
                  <img src='https://readymadeui.com/images/product14.webp' class="w-full object-contain" />
                </div>

                <div class="w-full">
                  <h3 class="text-base text-gray-800 font-bold">Echo Elegance</h3>
                  <ul class="text-sm text-gray-800 space-y-2 mt-2">
                    <li>Size <span class="float-right">37</span></li>
                    <li>Quantity <span class="float-right">2</span></li>
                    <li>Total Price <span class="float-right">$40</span></li>
                  </ul>
                </div>
              </div>

              <div class="flex flex-col gap-4">
                <div class="max-w-[140px] p-4 shrink-0 bg-gray-200 rounded-lg">
                  <img src='https://readymadeui.com/images/product12.webp' class="w-full object-contain" />
                </div>

                <div class="w-full">
                  <h3 class="text-base text-gray-800 font-bold">Naruto: Split Sneakers</h3>
                  <ul class="text-sm text-gray-800 space-y-2 mt-2">
                    <li class="flex flex-wrap gap-4">Size <span class="ml-auto">37</span></li>
                    <li class="flex flex-wrap gap-4">Quantity <span class="ml-auto">2</span></li>
                    <li class="flex flex-wrap gap-4">Total Price <span class="ml-auto">$40</span></li>
                  </ul>
                </div>
              </div>

              <div class="flex flex-col gap-4">
                <div class="max-w-[140px] p-4 shrink-0 bg-gray-200 rounded-lg">
                  <img src='https://readymadeui.com/images/product9.webp' class="w-full object-contain" />
                </div>

                <div class="w-full">
                  <h3 class="text-base text-gray-800 font-bold">VelvetGlide Boots</h3>
                  <ul class="text-sm text-gray-800 space-y-2 mt-2">
                    <li>Size <span class="float-right">37</span></li>
                    <li>Quantity <span class="float-right">2</span></li>
                    <li>Total Price <span class="float-right">$40</span></li>
                  </ul>
                </div>
              </div> -->

            </div>
          </div>

          <div class="lg:absolute lg:left-0 lg:bottom-0 bg-gray-200 w-full p-4">
            <h4 class="flex flex-wrap gap-4 text-base text-gray-800 font-bold">Total <span class="ml-auto">{{this.totalPrice|currency}}</span></h4>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>